{
    "project_name": "Activiti-Activiti",
    "violation_id": "940",
    "information": {
        "violations": [
            {
                "line": "59",
                "column": "64",
                "severity": "error",
                "message": "'?' should be on the previous line.",
                "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.OperatorWrapCheck"
            }
        ]
    },
    "source_code": "                           Object value = Optional.ofNullable(f.getValue())\n                                                  .map(v -> (Expression.class.isInstance(v))\n                                                               ? Expression.class.cast(v).getValue(execution)\n                                                               : v)\n                                                  .orElse(null);\n",
    "results": [
        {
            "tool": "styler",
            "violations": [],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/violations/940/BpmnMessagePayloadMappingProvider.java b/home/fernanda/mnt/fernanda/git-styler/styler/src/./experiments/projects/Activiti-Activiti/styler/05_predictions/final/files-repaired/940/BpmnMessagePayloadMappingProvider.java\nindex 256e95a7052..482ab9237f5 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/violations/940/BpmnMessagePayloadMappingProvider.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/src/./experiments/projects/Activiti-Activiti/styler/05_predictions/final/files-repaired/940/BpmnMessagePayloadMappingProvider.java\n@@ -55,8 +55,7 @@ public class BpmnMessagePayloadMappingProvider implements MessagePayloadMappingP\n         return Optional.of(field)\n                        .map(f -> {\n                            Object value = Optional.ofNullable(f.getValue())\n-                                                  .map(v -> (Expression.class.isInstance(v))\n-                                                               ? Expression.class.cast(v).getValue(execution)\n+                                                  .map(v -> (Expression.class.isInstance(v)) ? Expression.class.cast(v).getValue(execution)\n                                                                : v)\n                                                   .orElse(null);\n \n",
            "diff_size": 2
        },
        {
            "tool": "checkstyle_idea",
            "violations": [
                {
                    "line": "59",
                    "column": "37",
                    "severity": "error",
                    "message": "'?' should be on the previous line.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.OperatorWrapCheck"
                }
            ],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/violations/940/BpmnMessagePayloadMappingProvider.java b/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/checkstyle_idea/940/BpmnMessagePayloadMappingProvider.java\nindex 256e95a7052..6e00fb99052 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/violations/940/BpmnMessagePayloadMappingProvider.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/checkstyle_idea/940/BpmnMessagePayloadMappingProvider.java\n@@ -42,26 +42,26 @@ public class BpmnMessagePayloadMappingProvider implements MessagePayloadMappingP\n         Map<String, Object> payload = new LinkedHashMap<>();\n \n         fieldDeclarations.stream()\n-                         .map(field -> applyFieldDeclaration(execution,\n-                                                             field))\n-                         .forEach(entry -> payload.put(entry.getKey(), entry.getValue()));\n+                .map(field -> applyFieldDeclaration(execution,\n+                        field))\n+                .forEach(entry -> payload.put(entry.getKey(), entry.getValue()));\n \n         return Optional.of(payload)\n-                       .filter(map -> !map.isEmpty())\n-                       .map(map -> unmodifiableMap(map));\n+                .filter(map -> !map.isEmpty())\n+                .map(map -> unmodifiableMap(map));\n     }\n \n     protected Map.Entry<String, Object> applyFieldDeclaration(DelegateExecution execution, FieldDeclaration field) {\n         return Optional.of(field)\n-                       .map(f -> {\n-                           Object value = Optional.ofNullable(f.getValue())\n-                                                  .map(v -> (Expression.class.isInstance(v))\n-                                                               ? Expression.class.cast(v).getValue(execution)\n-                                                               : v)\n-                                                  .orElse(null);\n+                .map(f -> {\n+                    Object value = Optional.ofNullable(f.getValue())\n+                            .map(v -> (Expression.class.isInstance(v))\n+                                    ? Expression.class.cast(v).getValue(execution)\n+                                    : v)\n+                            .orElse(null);\n \n-                           return new AbstractMap.SimpleImmutableEntry<>(field.getName(), value);\n-                        })\n-                       .get();\n+                    return new AbstractMap.SimpleImmutableEntry<>(field.getName(), value);\n+                })\n+                .get();\n     }\n }\n",
            "diff_size": 14
        },
        {
            "tool": "naturalize",
            "violations": [],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/violations/940/BpmnMessagePayloadMappingProvider.java b/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/naturalize/940/BpmnMessagePayloadMappingProvider.java\nindex 256e95a7052..cd7d436369b 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/violations/940/BpmnMessagePayloadMappingProvider.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/naturalize/940/BpmnMessagePayloadMappingProvider.java\n@@ -41,27 +41,16 @@ public class BpmnMessagePayloadMappingProvider implements MessagePayloadMappingP\n     public Optional<Map<String, Object>> getMessagePayload(DelegateExecution execution) {\n         Map<String, Object> payload = new LinkedHashMap<>();\n \n-        fieldDeclarations.stream()\n-                         .map(field -> applyFieldDeclaration(execution,\n-                                                             field))\n-                         .forEach(entry -> payload.put(entry.getKey(), entry.getValue()));\n-\n-        return Optional.of(payload)\n-                       .filter(map -> !map.isEmpty())\n+        fieldDeclarations.stream().map(field -> applyFieldDeclaration(execution, field)).forEach(entry -> payload.put(entry.getKey(), entry.getValue()));\n+return Optional.of(payload).filter(map -> !map.isEmpty())\n                        .map(map -> unmodifiableMap(map));\n-    }\n+  }\n \n     protected Map.Entry<String, Object> applyFieldDeclaration(DelegateExecution execution, FieldDeclaration field) {\n-        return Optional.of(field)\n-                       .map(f -> {\n-                           Object value = Optional.ofNullable(f.getValue())\n-                                                  .map(v -> (Expression.class.isInstance(v))\n-                                                               ? Expression.class.cast(v).getValue(execution)\n-                                                               : v)\n-                                                  .orElse(null);\n+        return Optional.of(field).map(f -> {\n+                           Object value = Optional.ofNullable(f.getValue()).map(v -> (Expression.class.isInstance(v)) ? Expression.class.cast(v).getValue(execution) : v).orElse(null);\n+return new AbstractMap.SimpleImmutableEntry<>(field.getName(), value);\n \n-                           return new AbstractMap.SimpleImmutableEntry<>(field.getName(), value);\n-                        })\n-                       .get();\n+  }).get();\n     }\n-}\n+}\n\\ No newline at end of file\n",
            "diff_size": 19
        },
        {
            "tool": "codebuff",
            "violations": [
                {
                    "line": "30",
                    "severity": "error",
                    "message": "'CLASS_DEF' has more than 1 empty lines before.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.EmptyLineSeparatorCheck"
                }
            ],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/violations/940/BpmnMessagePayloadMappingProvider.java b/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/codebuff/940/BpmnMessagePayloadMappingProvider.java\nindex 256e95a7052..48dd4e0ab74 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/violations/940/BpmnMessagePayloadMappingProvider.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/codebuff/940/BpmnMessagePayloadMappingProvider.java\n@@ -17,51 +17,36 @@\n package org.activiti.engine.impl.delegate;\n \n import static java.util.Collections.unmodifiableMap;\n-\n import java.util.AbstractMap;\n import java.util.LinkedHashMap;\n import java.util.List;\n import java.util.Map;\n import java.util.Optional;\n-\n import org.activiti.engine.delegate.DelegateExecution;\n import org.activiti.engine.delegate.Expression;\n import org.activiti.engine.impl.bpmn.parser.FieldDeclaration;\n \n-public class BpmnMessagePayloadMappingProvider implements MessagePayloadMappingProvider {\n-\n-    private final List<FieldDeclaration> fieldDeclarations;\n-\n-    public BpmnMessagePayloadMappingProvider(List<FieldDeclaration> fieldDeclarations) {\n-        super();\n-        this.fieldDeclarations = fieldDeclarations;\n-    }\n \n-    @Override\n-    public Optional<Map<String, Object>> getMessagePayload(DelegateExecution execution) {\n-        Map<String, Object> payload = new LinkedHashMap<>();\n-\n-        fieldDeclarations.stream()\n-                         .map(field -> applyFieldDeclaration(execution,\n-                                                             field))\n-                         .forEach(entry -> payload.put(entry.getKey(), entry.getValue()));\n-\n-        return Optional.of(payload)\n-                       .filter(map -> !map.isEmpty())\n-                       .map(map -> unmodifiableMap(map));\n-    }\n-\n-    protected Map.Entry<String, Object> applyFieldDeclaration(DelegateExecution execution, FieldDeclaration field) {\n-        return Optional.of(field)\n-                       .map(f -> {\n-                           Object value = Optional.ofNullable(f.getValue())\n-                                                  .map(v -> (Expression.class.isInstance(v))\n-                                                               ? Expression.class.cast(v).getValue(execution)\n-                                                               : v)\n-                                                  .orElse(null);\n+public class BpmnMessagePayloadMappingProvider implements MessagePayloadMappingProvider {\n \n-                           return new AbstractMap.SimpleImmutableEntry<>(field.getName(), value);\n-                        })\n-                       .get();\n-    }\n-}\n+  private final List<FieldDeclaration> fieldDeclarations;\n+\n+  public BpmnMessagePayloadMappingProvider(List<FieldDeclaration> fieldDeclarations) {\n+    super();\n+    this.fieldDeclarations = fieldDeclarations;\n+  }\n+\n+  @Override\n+  public Optional<Map<String, Object>> getMessagePayload(DelegateExecution execution) {\n+    Map<String, Object> payload = new LinkedHashMap<>();\n+    fieldDeclarations.stream().map(field -> applyFieldDeclaration(execution, field)).forEach(entry -> payload.put(entry.getKey(), entry.getValue()));\n+    return Optional.of(payload).filter(map -> !map.isEmpty()).map(map -> unmodifiableMap(map));\n+  }\n+\n+  protected Map.Entry<String, Object> applyFieldDeclaration(DelegateExecution execution, FieldDeclaration field) {\n+    return Optional.of(field).map(f -> {\n+      Object value = Optional.ofNullable(f.getValue()).map(v -> (Expression.class.isInstance(v)) ? Expression.class.cast(v).getValue(execution) : v).orElse(null);\n+      return new AbstractMap. SimpleImmutableEntry<>(field.getName(), value);\n+                              }).get();\n+  }\n+}\n\\ No newline at end of file\n",
            "diff_size": 53
        },
        {
            "tool": "styler_random",
            "violations": [],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/violations/940/BpmnMessagePayloadMappingProvider.java b/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/styler/05_predictions/random/files-repaired/940/BpmnMessagePayloadMappingProvider.java\nindex 256e95a7052..482ab9237f5 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/violations/940/BpmnMessagePayloadMappingProvider.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/styler/05_predictions/random/files-repaired/940/BpmnMessagePayloadMappingProvider.java\n@@ -55,8 +55,7 @@ public class BpmnMessagePayloadMappingProvider implements MessagePayloadMappingP\n         return Optional.of(field)\n                        .map(f -> {\n                            Object value = Optional.ofNullable(f.getValue())\n-                                                  .map(v -> (Expression.class.isInstance(v))\n-                                                               ? Expression.class.cast(v).getValue(execution)\n+                                                  .map(v -> (Expression.class.isInstance(v)) ? Expression.class.cast(v).getValue(execution)\n                                                                : v)\n                                                   .orElse(null);\n \n",
            "diff_size": 2
        },
        {
            "tool": "styler_three_grams",
            "violations": [],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/violations/940/BpmnMessagePayloadMappingProvider.java b/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/styler/05_predictions/three_grams/files-repaired/940/BpmnMessagePayloadMappingProvider.java\nindex 256e95a7052..482ab9237f5 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/violations/940/BpmnMessagePayloadMappingProvider.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/Activiti-Activiti/styler/05_predictions/three_grams/files-repaired/940/BpmnMessagePayloadMappingProvider.java\n@@ -55,8 +55,7 @@ public class BpmnMessagePayloadMappingProvider implements MessagePayloadMappingP\n         return Optional.of(field)\n                        .map(f -> {\n                            Object value = Optional.ofNullable(f.getValue())\n-                                                  .map(v -> (Expression.class.isInstance(v))\n-                                                               ? Expression.class.cast(v).getValue(execution)\n+                                                  .map(v -> (Expression.class.isInstance(v)) ? Expression.class.cast(v).getValue(execution)\n                                                                : v)\n                                                   .orElse(null);\n \n",
            "diff_size": 2
        }
    ],
    "repaired_by": [
        "styler",
        "naturalize",
        "styler_random",
        "styler_three_grams"
    ],
    "not_repaired_by": [
        "checkstyle_idea",
        "codebuff"
    ]
}