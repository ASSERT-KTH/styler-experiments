{
    "project_name": "codefollower-H2-Research",
    "violation_id": "534",
    "information": {
        "violations": [
            {
                "line": "52",
                "column": "29",
                "severity": "warning",
                "message": "',' is not followed by whitespace.",
                "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.WhitespaceAfterCheck"
            }
        ]
    },
    "source_code": "        ValueArray[] values = new ValueArray[distinctValues.size()];\n        int i = 0;\n        for (Map.Entry<Value,AggregateDataHistogram> entry : distinctValues.entries()) {\n            AggregateDataHistogram d = entry.getValue();\n            values[i] = ValueArray.get(new Value[] { entry.getKey(), ValueLong.get(d.count) });\n            i++;",
    "results": [
        {
            "tool": "styler",
            "violations": [],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/violations/534/AggregateDataHistogram.java b/home/fernanda/mnt/fernanda/git-styler/styler/src/./experiments/projects/codefollower-H2-Research/styler/05_predictions/final/files-repaired/534/AggregateDataHistogram.java\nindex 7b5f9ba136f..37f48ce1bfd 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/violations/534/AggregateDataHistogram.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/src/./experiments/projects/codefollower-H2-Research/styler/05_predictions/final/files-repaired/534/AggregateDataHistogram.java\n@@ -49,7 +49,7 @@ class AggregateDataHistogram extends AggregateData {\n         }\n         ValueArray[] values = new ValueArray[distinctValues.size()];\n         int i = 0;\n-        for (Map.Entry<Value,AggregateDataHistogram> entry : distinctValues.entries()) {\n+        for (Map.Entry<Value, AggregateDataHistogram> entry : distinctValues.entries()) {\n             AggregateDataHistogram d = entry.getValue();\n             values[i] = ValueArray.get(new Value[] { entry.getKey(), ValueLong.get(d.count) });\n             i++;\n",
            "diff_size": 1
        },
        {
            "tool": "checkstyle_idea",
            "violations": [],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/violations/534/AggregateDataHistogram.java b/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/checkstyle_idea/534/AggregateDataHistogram.java\nindex 7b5f9ba136f..8b48b72fa24 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/violations/534/AggregateDataHistogram.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/checkstyle_idea/534/AggregateDataHistogram.java\n@@ -3,11 +3,13 @@\n  * and the EPL 1.0 (http://h2database.com/html/license.html).\n  * Initial Developer: H2 Group\n  */\n+\n package org.h2.expression.aggregate;\n \n import java.util.Arrays;\n import java.util.Comparator;\n import java.util.Map;\n+\n import org.h2.engine.Constants;\n import org.h2.engine.Database;\n import org.h2.engine.Mode;\n@@ -21,61 +23,61 @@ import org.h2.value.ValueLong;\n  * Data stored while calculating a HISTOGRAM aggregate.\n  */\n class AggregateDataHistogram extends AggregateData {\n-    private long count;\n-    private ValueHashMap<AggregateDataHistogram> distinctValues;\n+  private long count;\n+  private ValueHashMap<AggregateDataHistogram> distinctValues;\n \n-    @Override\n-    void add(Database database, int dataType, boolean distinct, Value v) {\n-        if (distinctValues == null) {\n-            distinctValues = ValueHashMap.newInstance();\n-        }\n-        AggregateDataHistogram a = distinctValues.get(v);\n-        if (a == null) {\n-            if (distinctValues.size() < Constants.SELECTIVITY_DISTINCT_COUNT) {\n-                a = new AggregateDataHistogram();\n-                distinctValues.put(v, a);\n-            }\n-        }\n-        if (a != null) {\n-            a.count++;\n-        }\n+  @Override\n+  void add(Database database, int dataType, boolean distinct, Value v) {\n+    if (distinctValues == null) {\n+      distinctValues = ValueHashMap.newInstance();\n+    }\n+    AggregateDataHistogram a = distinctValues.get(v);\n+    if (a == null) {\n+      if (distinctValues.size() < Constants.SELECTIVITY_DISTINCT_COUNT) {\n+        a = new AggregateDataHistogram();\n+        distinctValues.put(v, a);\n+      }\n     }\n+    if (a != null) {\n+      a.count++;\n+    }\n+  }\n \n-    @Override\n-    Value getValue(Database database, int dataType, boolean distinct) {\n-        if (distinct) {\n-            count = 0;\n-            groupDistinct(database, dataType);\n-        }\n-        ValueArray[] values = new ValueArray[distinctValues.size()];\n-        int i = 0;\n-        for (Map.Entry<Value,AggregateDataHistogram> entry : distinctValues.entries()) {\n-            AggregateDataHistogram d = entry.getValue();\n-            values[i] = ValueArray.get(new Value[] { entry.getKey(), ValueLong.get(d.count) });\n-            i++;\n-        }\n-        final Mode mode = database.getMode();\n-        final CompareMode compareMode = database.getCompareMode();\n-        Arrays.sort(values, new Comparator<ValueArray>() {\n-            @Override\n-            public int compare(ValueArray v1, ValueArray v2) {\n-                Value a1 = v1.getList()[0];\n-                Value a2 = v2.getList()[0];\n-                return a1.compareTo(a2, mode, compareMode);\n-            }\n-        });\n-        Value v = ValueArray.get(values);\n-        return v.convertTo(dataType);\n+  @Override\n+  Value getValue(Database database, int dataType, boolean distinct) {\n+    if (distinct) {\n+      count = 0;\n+      groupDistinct(database, dataType);\n+    }\n+    ValueArray[] values = new ValueArray[distinctValues.size()];\n+    int i = 0;\n+    for (Map.Entry<Value, AggregateDataHistogram> entry : distinctValues.entries()) {\n+      AggregateDataHistogram d = entry.getValue();\n+      values[i] = ValueArray.get(new Value[] {entry.getKey(), ValueLong.get(d.count)});\n+      i++;\n     }\n+    final Mode mode = database.getMode();\n+    final CompareMode compareMode = database.getCompareMode();\n+    Arrays.sort(values, new Comparator<ValueArray>() {\n+      @Override\n+      public int compare(ValueArray v1, ValueArray v2) {\n+        Value a1 = v1.getList()[0];\n+        Value a2 = v2.getList()[0];\n+        return a1.compareTo(a2, mode, compareMode);\n+      }\n+    });\n+    Value v = ValueArray.get(values);\n+    return v.convertTo(dataType);\n+  }\n \n-    private void groupDistinct(Database database, int dataType) {\n-        if (distinctValues == null) {\n-            return;\n-        }\n-        count = 0;\n-        for (Value v : distinctValues.keys()) {\n-            add(database, dataType, false, v);\n-        }\n+  private void groupDistinct(Database database, int dataType) {\n+    if (distinctValues == null) {\n+      return;\n+    }\n+    count = 0;\n+    for (Value v : distinctValues.keys()) {\n+      add(database, dataType, false, v);\n     }\n+  }\n \n }\n",
            "diff_size": 70
        },
        {
            "tool": "naturalize",
            "violations": [],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/violations/534/AggregateDataHistogram.java b/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/naturalize/534/AggregateDataHistogram.java\nindex 7b5f9ba136f..daa72bc3db5 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/violations/534/AggregateDataHistogram.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/naturalize/534/AggregateDataHistogram.java\n@@ -49,7 +49,7 @@ class AggregateDataHistogram extends AggregateData {\n         }\n         ValueArray[] values = new ValueArray[distinctValues.size()];\n         int i = 0;\n-        for (Map.Entry<Value,AggregateDataHistogram> entry : distinctValues.entries()) {\n+        for (Map.Entry<Value, AggregateDataHistogram> entry : distinctValues.entries()) {\n             AggregateDataHistogram d = entry.getValue();\n             values[i] = ValueArray.get(new Value[] { entry.getKey(), ValueLong.get(d.count) });\n             i++;\n@@ -78,4 +78,4 @@ class AggregateDataHistogram extends AggregateData {\n         }\n     }\n \n-}\n+}\n\\ No newline at end of file\n",
            "diff_size": 2
        },
        {
            "tool": "codebuff",
            "violations": [],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/violations/534/AggregateDataHistogram.java b/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/codebuff/534/AggregateDataHistogram.java\nindex 7b5f9ba136f..4a9e373c243 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/violations/534/AggregateDataHistogram.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/codebuff/534/AggregateDataHistogram.java\n@@ -20,12 +20,16 @@ import org.h2.value.ValueLong;\n /**\n  * Data stored while calculating a HISTOGRAM aggregate.\n  */\n+\n+\n class AggregateDataHistogram extends AggregateData {\n+\n     private long count;\n     private ValueHashMap<AggregateDataHistogram> distinctValues;\n \n     @Override\n-    void add(Database database, int dataType, boolean distinct, Value v) {\n+    void add(Database database, int dataType,\n+    boolean distinct, Value v) {\n         if (distinctValues == null) {\n             distinctValues = ValueHashMap.newInstance();\n         }\n@@ -49,7 +53,7 @@ class AggregateDataHistogram extends AggregateData {\n         }\n         ValueArray[] values = new ValueArray[distinctValues.size()];\n         int i = 0;\n-        for (Map.Entry<Value,AggregateDataHistogram> entry : distinctValues.entries()) {\n+        for (Map.Entry<Value, AggregateDataHistogram> entry : distinctValues.entries()) {\n             AggregateDataHistogram d = entry.getValue();\n             values[i] = ValueArray.get(new Value[] { entry.getKey(), ValueLong.get(d.count) });\n             i++;\n@@ -57,12 +61,12 @@ class AggregateDataHistogram extends AggregateData {\n         final Mode mode = database.getMode();\n         final CompareMode compareMode = database.getCompareMode();\n         Arrays.sort(values, new Comparator<ValueArray>() {\n-            @Override\n-            public int compare(ValueArray v1, ValueArray v2) {\n-                Value a1 = v1.getList()[0];\n-                Value a2 = v2.getList()[0];\n-                return a1.compareTo(a2, mode, compareMode);\n-            }\n+@Override\n+public int compare(ValueArray v1, ValueArray v2) {\n+    Value a1 = v1.getList()[0];\n+    Value a2 = v2.getList()[0];\n+    return a1.compareTo(a2, mode, compareMode);\n+}\n         });\n         Value v = ValueArray.get(values);\n         return v.convertTo(dataType);\n@@ -78,4 +82,4 @@ class AggregateDataHistogram extends AggregateData {\n         }\n     }\n \n-}\n+}\n\\ No newline at end of file\n",
            "diff_size": 13
        },
        {
            "tool": "styler_random",
            "violations": [],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/violations/534/AggregateDataHistogram.java b/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/styler/05_predictions/random/files-repaired/534/AggregateDataHistogram.java\nindex 7b5f9ba136f..37f48ce1bfd 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/violations/534/AggregateDataHistogram.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/styler/05_predictions/random/files-repaired/534/AggregateDataHistogram.java\n@@ -49,7 +49,7 @@ class AggregateDataHistogram extends AggregateData {\n         }\n         ValueArray[] values = new ValueArray[distinctValues.size()];\n         int i = 0;\n-        for (Map.Entry<Value,AggregateDataHistogram> entry : distinctValues.entries()) {\n+        for (Map.Entry<Value, AggregateDataHistogram> entry : distinctValues.entries()) {\n             AggregateDataHistogram d = entry.getValue();\n             values[i] = ValueArray.get(new Value[] { entry.getKey(), ValueLong.get(d.count) });\n             i++;\n",
            "diff_size": 1
        },
        {
            "tool": "styler_three_grams",
            "violations": [],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/violations/534/AggregateDataHistogram.java b/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/styler/05_predictions/three_grams/files-repaired/534/AggregateDataHistogram.java\nindex 7b5f9ba136f..37f48ce1bfd 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/violations/534/AggregateDataHistogram.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/src/experiments/projects/codefollower-H2-Research/styler/05_predictions/three_grams/files-repaired/534/AggregateDataHistogram.java\n@@ -49,7 +49,7 @@ class AggregateDataHistogram extends AggregateData {\n         }\n         ValueArray[] values = new ValueArray[distinctValues.size()];\n         int i = 0;\n-        for (Map.Entry<Value,AggregateDataHistogram> entry : distinctValues.entries()) {\n+        for (Map.Entry<Value, AggregateDataHistogram> entry : distinctValues.entries()) {\n             AggregateDataHistogram d = entry.getValue();\n             values[i] = ValueArray.get(new Value[] { entry.getKey(), ValueLong.get(d.count) });\n             i++;\n",
            "diff_size": 1
        }
    ],
    "repaired_by": [
        "styler",
        "checkstyle_idea",
        "naturalize",
        "codebuff",
        "styler_random",
        "styler_three_grams"
    ],
    "not_repaired_by": []
}